# ブロック崩しRPG

ブロックを壊して経験値を稼ぎ、レベルアップによってパドルやボールを強化していく新感覚のアクションRPG。

## 概要

このプロジェクトは、従来のブロック崩しゲームにRPG要素を組み合わせた革新的なゲームです。プレイヤーはブロックを破壊することで経験値を獲得し、レベルアップによって能力を向上させ、より強力なモンスターブロックに挑戦できます。

## 主要機能

- 🎮 **ブロック崩しゲーム**: 従来のブロック崩しの楽しさを基盤とした gameplay
- 📈 **経験値・レベルシステム**: ブロック破壊で EXP 獲得、レベルアップで能力向上
- ⚔️ **モンスターブロック**: HP を持つ強敵ブロックが登場
- ✨ **スキルシステム**: レベルアップで習得する必殺技
- 💾 **データ永続化**: プレイ進捗のローカル保存機能
- 📱 **レスポンシブ対応**: PC・タブレットでの快適なプレイ

## 技術スタック

- **フロントエンド**: React 18 + TypeScript
- **ゲームエンジン**: HTML5 Canvas + カスタムゲームループ
- **状態管理**: Zustand
- **スタイリング**: TailwindCSS
- **ビルドツール**: Vite
- **テスト**: Vitest + React Testing Library
- **リンター**: ESLint + Prettier

## セットアップ手順

### 必要環境

- Node.js 18.0.0 以上
- npm 9.0.0 以上

### インストール

1. **リポジトリのクローン**
   ```bash
   git clone <repository-url>
   cd block-breaker-rpg
   ```

2. **依存関係のインストール**
   ```bash
   npm install
   ```

3. **開発サーバーの起動**
   ```bash
   npm run dev
   ```

4. **ブラウザでアクセス**
   ```
   http://localhost:3000
   ```

## スクリプト

| コマンド | 説明 |
|---------|------|
| `npm run dev` | 開発サーバー起動 |
| `npm run build` | プロダクションビルド |
| `npm run preview` | ビルド版のプレビュー |
| `npm run test` | テスト実行 |
| `npm run test:ui` | テストUI表示 |
| `npm run lint` | ESLint実行 |

## プロジェクト構造

```
src/
├── components/          # UI コンポーネント
│   ├── ui/             # 再利用可能な基本コンポーネント
│   ├── game/           # ゲーム固有のコンポーネント
│   └── simple/         # シンプルなプロトタイプ用コンポーネント
├── game/               # ゲームロジック
│   ├── engine/         # ゲームエンジン（Canvas、ループ等）
│   ├── entities/       # ゲームオブジェクト（パドル、ボール、ブロック）
│   └── systems/        # ゲームシステム（経験値、レベル、スキル）
├── stores/             # 状態管理（Zustand）
├── types/              # TypeScript 型定義
├── constants/          # 定数
├── tests/              # テストファイル
├── SimpleApp.tsx       # プロトタイプ版アプリ
└── App.tsx             # メインアプリ
docs/
├── spec.md             # 詳細仕様書
└── api.md              # API仕様（内部API）
```

## ゲームの遊び方

### 基本操作

- **パドル移動**: 矢印キー（←→）または A・D キー
- **スキル発動**: スペースキー（実装予定）

### ゲームの流れ

1. **ゲーム開始**: メニューから「ゲーム開始」を選択
2. **ブロック破壊**: パドルでボールを操作してブロックを破壊
3. **経験値獲得**: ブロック破壊で EXP を獲得
4. **レベルアップ**: 一定の EXP でレベルアップ、能力値が向上
5. **スキル習得**: レベルアップでスキルポイント獲得、新しいスキルを習得
6. **モンスター挑戦**: 強力なモンスターブロックに挑戦

### プレイヤー能力値

- **パドルサイズ**: パドルの大きさ
- **パドル速度**: パドルの移動速度
- **ボール速度**: ボールの移動速度
- **ボール威力**: ブロックへのダメージ
- **クリティカル率**: 高ダメージの発生確率
- **EXP倍率**: 獲得経験値の倍率

## 開発について

### 開発指針

このプロジェクトは以下の開発原則に従っています：

1. **仕様追記義務**: 機能追加前に `docs/spec.md` を更新
2. **テスト駆動開発**: 実装前にテストコードを作成
3. **疎結合設計**: 各機能の独立性を保持
4. **型安全性**: TypeScript を活用した型安全な実装

詳細は `.github/copilot-instructions.md` を参照してください。

### テストの実行

```bash
# 全テスト実行
npm run test

# テストをウォッチモードで実行
npm run test:watch

# テストUIで実行
npm run test:ui
```

### ビルドとデプロイ

```bash
# プロダクションビルド
npm run build

# ビルド結果のプレビュー
npm run preview
```

ビルド結果は `dist/` フォルダに出力されます。

## 今後の実装予定

- [ ] 実際のゲームプレイロジック（ボール物理、ブロック破壊）
- [ ] スキルの発動とエフェクト
- [ ] モンスターブロックの完全実装
- [ ] アニメーションとサウンドエフェクト
- [ ] アチーブメントシステム
- [ ] マルチプラットフォーム対応

## 貢献

プロジェクトへの貢献を歓迎します。以下の手順でお願いします：

1. このリポジトリをフォーク
2. 機能ブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add amazing feature'`)
4. ブランチをプッシュ (`git push origin feature/amazing-feature`)
5. プルリクエストを作成

## ライセンス

このプロジェクトは MIT ライセンスの下で公開されています。詳細は `LICENSE` ファイルを参照してください。

---

**楽しいゲーム体験を！** 🎮✨